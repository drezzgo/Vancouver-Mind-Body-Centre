---
import { Image } from 'astro:assets';
import logo from '../assets/LogoVancouver.svg';

const title = "Vancouver Mind Body Centre";
const subtitle = "Group Fitness | Personal Training | Martial Arts";
const cta = {
  label: "Non sit et",
  href: "#form-container",
  aria: "Reserva tu clase gratuita en Vancouver Mind Body"
};
---

<header
  class="w-full border-b border-gray-200 bg-white dark:bg-dark text-gray-900 dark:text-white"
  role="banner"
>
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between flex-wrap gap-y-4">
    
    <!-- Marca -->
    <div class="flex items-center gap-5 logo-brand flex-wrap">
      <Image
        src={logo}
        alt="Logo de Vancouver Mind Body"
        width={200}
        class="dark:invert size-12"
        loading="eager"
      />
      <div class="flex flex-col">
        <h1 class="font-bold text-2xl sm:text-3xl leading-tight">{title}</h1>
        <p class="text-sm sm:text-base text-gray-700 dark:text-gray-300">{subtitle}</p>
      </div>
    </div>

    <!-- CTA -->
    <div class="flex items-center gap-4">
      <a
        id="hero-button"
        href={cta.href}
        class="relative inline-flex items-center justify-center 
          bg-gradient-to-r from-gym-500 to-red-500
          text-white font-semibold text-sm sm:text-base 
          py-2 sm:py-3 px-6 sm:px-8 rounded-lg 
          shadow-lg overflow-hidden
          transition-transform duration-300 ease-in-out
          hover:scale-105 hover:shadow-2xl"
        aria-label={cta.aria}
      >
        <span class="relative z-10">{cta.label}</span>
      </a>
    </div>
  </div>
</header>

<!-- ✅ GSAP animación directa -->
<script type="module">
  import { gsap } from 'https://cdn.skypack.dev/gsap';

  console.log("✅ GSAP: Header animation running");

  const tl = gsap.timeline({ defaults: { ease: 'power3.out', duration: 1 } });

  tl.from('header', {
    y: -50,
    opacity: 0,
  })
  .from('.logo-brand', {
    x: -40,
    opacity: 0,
  }, '<+=0.2')
  .from('nav a', {
    y: -10,
    opacity: 0,
    stagger: 0.1,
  }, '<');
</script>
