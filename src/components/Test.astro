---
// Puedes importar este componente en index.astro
const title = "Schedule Your Free Trial";
const subtitle = "Fill out the form and start your fitness journey with Vancouver Mind Body today.";
---

<section id="form-container" class="bg-white dark:bg-dark w-full py-24 px-4 sm:px-6 lg:px-8 text-gray-900 dark:text-white">
  <div class="max-w-3xl mx-auto text-center mb-10">
    <h2 class="text-3xl sm:text-4xl font-bold">{title}</h2>
    <p class="text-lg text-gray-600 dark:text-gray-300 mt-2">{subtitle}</p>
  </div>

  <div class="max-w-2xl mx-auto bg-gray-100 dark:bg-gray-900 rounded-xl shadow-xl p-6 sm:p-10 border border-gray-200 dark:border-gray-800 transition">
    <div id="freetrial_a0fa9a84-9224-46d1-ac3b-b48afe77281f"></div>
  </div>

  <script type="text/javascript">
    (function(win, doc, zenJSHost, src, module, partitionApiKey, widgetInstanceId) {
      win.zenplanner = win.zenplanner || {};
      win.zenplanner.directLoadArgs = win.zenplanner.directLoadArgs || [];
      var tryCount = 0, intervalId = null;

      function afterLoad() {
        if (win.zenplanner.directLoader !== undefined && window.zenplanner.directLoader !== null) {
          clearInterval(intervalId);
          for (var i = 0, l = win.zenplanner.directLoadArgs.length; l > i; i++) {
            if (win.zenplanner.directLoadArgs[i].widgetInstanceId === widgetInstanceId) {
              win.zenplanner.directLoader.loadWidget(zenJSHost, module, partitionApiKey, widgetInstanceId);
            }
          }
        } else if (tryCount++ > 200) {
          console.log('Zen Planner widget : ' + module + ', failed to load.');
          clearInterval(intervalId);
        }
      }

      if (win.zenplanner.directLoader === undefined || win.zenplanner.directLoader === null) {
        win.zenplanner.directLoadArgs.push({
          module: module,
          partitionApiKey: partitionApiKey,
          widgetInstanceId: widgetInstanceId
        });
        var s = doc.createElement('script');
        s.async = 1;
        s.src = zenJSHost + '/' + src;
        doc.head.appendChild(s);
        intervalId = setInterval(afterLoad, 50);
      } else {
        win.zenplanner.directLoader.loadWidget(zenJSHost, module, partitionApiKey, widgetInstanceId);
      }
    })(
      window,
      document,
      'https://studio.zenplanner.com',
      'zenplanner/studio/target/zp-widget-direct.js',
      'freetrial',
      '5dcb14da-2715-4c22-8f14-6648fc784219',
      'a0fa9a84-9224-46d1-ac3b-b48afe77281f'
    );
  </script>
</section>
