---
import userIcon from '../assets/users-group.svg';
import barbellIcon from '../assets/barbell.svg';
import heartIcon from '../assets/heart.svg';
import { Image } from 'astro:assets';
const features = [
  {
    icon: userIcon,
    title: 'Small Group Focus',
    text: 'Every class is kept intentionally small, so you get the guidance and personal attention you need to improve safely and consistently.',
  },
  {
    icon: barbellIcon,
    title: 'Experienced Instructors',
    text: 'Our coaches bring decades of expertise in strength training, martial arts, and mobility — adapting every session to your body and goals.',
  },
  {
    icon: heartIcon,
    title: 'Clean, Calm Studio',
    text: 'A welcoming space that’s always tidy, quiet, and organized — so you can breathe, move, and train with focus.',
  },
];
---

<section id="why-us" class="w-full py-24 bg-gray-50 dark:bg-dark text-gray-900 dark:text-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center space-y-6">
    <h2 class="text-6xl font-extrabold leading-tight">
      Why Choose <br><span class="text-gym-500">VMBC</span>?
    </h2>
    <p class="text-lg max-w-2xl mx-auto  font-medium text-gray-600 dark:text-gray-300">
      Train with purpose in a clean, focused space designed for progress.<br>We help adults move better, build strength, and feel more confident with coaching that meets you where you are and helps you go further.
    </p>

    <!-- Cards -->
    <div class="mt-12 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
      {
        features.map((f, i) => (
          <div
            id={`feature-${i}`}
            class="opacity-0 translate-y-6 bg-white dark:bg-gym-500/80 p-6 rounded-xl shadow-md dark:shadow-gym-900 transition-all hover:shadow-xl flex flex-col items-center justify-center aspect-square"
          >
            <img
              src={f.icon.src}
              alt={f.title}
              class="w-16 h-16 mb-4 dark:invert"
              loading="lazy"
            />
            <h3 class="text-xl font-semibold mb-2 text-center">{f.title}</h3>
            <p class="text-gray-600 dark:text-gray-300 text-base text-center">{f.text}</p>
          </div>
        ))
      }
  </div>
  </div>
</section>

<script>
  import gsap from 'gsap';

  const tl = gsap.timeline({ defaults: { duration: 0.9, ease: 'power2.out' } });

  tl.from('#why-us h2', {
    opacity: 0,
    y: 30,
  })
  .from('#why-us p', {
    opacity: 0,
    y: 20,
  }, '-=0.5');

  // Animar cada card individualmente
  for (let i = 0; i < 3; i++) {
    gsap.to(`#feature-${i}`, {
      opacity: 1,
      y: 0,
      delay: 0.5 + i * 0.2,
      duration: 0.8,
      ease: 'power2.out',
    });
  }
</script>
